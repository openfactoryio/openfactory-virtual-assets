# Asset configuration file for devcontainer
#
# Example for 2 sensors
#
# To deploy it:
#    ofa device up virtual_assets/opcua_sensor/opcua_sensor.yml

devices:
  vtempsens1:
    uuid: VIRTUAL-OPCUA-SENS-001

    connector:
      type: opcua

      server:
        uri: opc.tcp://${CONTAINER_IP}:4840/freeopcuas/server/

      variables:
        temp:
          browse_path: 0:Root/0:Objects/2:Sensors/2:TemperatureSensor1/2:Temperature
          tag: Temperature
        hum:
          browse_path: 0:Root/0:Objects/2:Sensors/2:TemperatureSensor1/2:Humidity
          tag: Humidity
        temp_unit:
          browse_path: 0:Root/0:Objects/2:Sensors/2:TemperatureSensor1/2:TemperatureUnit
          tag: TemperatureUnit
        sensor_model: 
          browse_path: 0:Root/0:Objects/2:Sensors/2:TemperatureSensor1/2:SensorModel
          tag: SensorModel

      events:
        sensor_events:
          browse_path: 0:Root/0:Objects/2:Sensors/2:TemperatureSensor1

  vtempsens2:
    uuid: VIRTUAL-OPCUA-SENS-002

    connector:
      type: opcua

      server:
        uri: opc.tcp://${CONTAINER_IP}:4840/freeopcuas/server/

      variables:
        temp:
          browse_path: 0:Root/0:Objects/2:Sensors/2:TemperatureSensor2/2:Temperature
          tag: Temperature
        hum:
          browse_path: 0:Root/0:Objects/2:Sensors/2:TemperatureSensor2/2:Humidity
          tag: Humidity
        temp_unit:
          browse_path: 0:Root/0:Objects/2:Sensors/2:TemperatureSensor1/2:TemperatureUnit
          tag: TemperatureUnit
        sensor_model: 
          browse_path: 0:Root/0:Objects/2:Sensors/2:TemperatureSensor2/2:SensorModel
          tag: SensorModel

      events:
        sensor_events:
          browse_path: 0:Root/0:Objects/2:Sensors/2:TemperatureSensor2
